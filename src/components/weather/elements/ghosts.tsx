import React, { useEffect, useState } from "react";

export interface IGhost {
  id: number;
  left: number;
  delay: number;
  duration: number;
}

export default function Ghosts(props: { max: number }) {
  const [ghosts, setGhosts] = useState([]);

  useEffect(() => {
    setGhosts(generateGhosts(props.max));
  }, [props.max]);

  return (
    <>
      {/* Ghosts */}
      {ghosts.map((ghost) => (
        <div
          key={ghost.id}
          className="absolute opacity-70"
          style={{
            top: `${ghost.top}%`,
            left: `${ghost.left}%`,
            animation: `ghostFloat ${ghost.duration}s ease-in-out infinite`,
            animationDelay: `${ghost.delay}s`,
          }}
        >
          <svg
            width="100%"
            height="100%"
            viewBox="0 0 204 172"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            xml:space="preserve"
            xmlns:serif="http://www.serif.com/"
            style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"
          >
            <rect
              id="Page-1"
              serif:id="Page 1"
              x="0"
              y="0"
              width="203.04"
              height="171.2"
              style="fill:none;"
            />
            <g id="OBJECTS">
              <g>
                <path
                  d="M110.376,25.258c-6.386,-8.809 -18.42,-9.173 -14.95,7.234c3.053,14.433 -1.355,29.172 -11.667,42.41c39.717,11.323 41.976,-28.46 26.617,-49.644"
                  style="fill:#fff;"
                />
                <path
                  d="M119.005,55.529c-6.109,-3.192 -22.912,-0.347 -30.862,13.634c5.613,3.489 28.551,-8.412 30.862,-13.634"
                  style="fill:#e6e6e6;"
                />
                <path
                  d="M114.834,55.738c22.939,-2.305 43.404,14.425 45.708,37.364c2.303,22.94 -14.425,43.404 -37.365,45.707c-22.94,2.305 -43.404,-14.424 -45.708,-37.364c-2.303,-22.939 14.425,-43.403 37.365,-45.707"
                  style="fill:#fff;"
                />
                <path
                  d="M51.5,143.29c34.647,20.143 79.132,13.557 103.4,-24.698l-71.141,-43.69c-8.155,12.263 -18.124,19.066 -31.236,22.557c-14.329,3.817 -22.707,33.225 -1.023,45.831"
                  style="fill:#fff;"
                />
                <path
                  d="M66.117,150.016c-22.613,-8.087 -37.958,-25.659 -40.874,-36.645c-6.987,-26.335 15.874,-32.889 14.837,-38.39c-0.397,-2.11 -30.776,-5.57 -10.426,-21.949c5.352,-4.308 5.891,0.326 3.58,2.55c-2.378,2.289 -4.311,5.709 -4.305,6.745c0.015,2.299 19.714,2.104 22.174,10.752c2.21,7.774 -10.758,15.99 -9.174,22.333c0.921,3.687 7.998,3.056 10.594,2.047c3.922,-1.524 30.563,54.474 13.594,52.557"
                  style="fill:#fff;"
                />
                <path
                  d="M105.868,84.62c1.22,0.697 0.182,8.066 1.696,13.825c1.705,6.482 5.856,11.471 4.958,13.088c-2.101,3.781 -6.673,-3.886 -8.947,-11.809c-2.655,-9.246 -0.812,-16.877 2.293,-15.104"
                  style="fill:#1d3340;"
                />
                <path
                  d="M128.401,87.183c1.545,-3.265 0.15,-7.163 -3.114,-8.708c-3.265,-1.544 -7.163,-0.15 -8.708,3.115c-1.544,3.264 -0.15,7.162 3.115,8.707c3.265,1.545 7.163,0.151 8.707,-3.114"
                  style="fill:#1d3340;"
                />
                <path
                  d="M132.896,106.17c1.544,-3.265 0.149,-7.163 -3.115,-8.707c-3.265,-1.545 -7.163,-0.15 -8.707,3.114c-1.545,3.265 -0.151,7.163 3.114,8.707c3.265,1.545 7.163,0.151 8.708,-3.114"
                  style="fill:#1d3340;"
                />
                <path
                  d="M175.687,135.973c6.802,8.492 3.963,20.192 -10.938,12.498c-13.107,-6.769 -28.488,-6.426 -43.984,0.009c-0.391,-41.297 38.568,-32.931 54.922,-12.507"
                  style="fill:#fff;"
                />
              </g>
              <g>
                <path
                  d="M182.678,94.194c4.378,9.959 -1.383,20.53 -13.792,9.252c-2.503,-2.273 -6.161,-9.853 -31.502,-16.738c-6.53,-11.871 -9.481,-20.407 -13.555,-36.229c29.522,9.427 52.731,29.8 58.849,43.715"
                  style="fill:#fff;"
                />
                <path
                  d="M149.32,90.549c2.711,-8.847 7.428,-27.386 -25.49,-40.07c-2.937,5.92 20.071,38.269 25.49,40.07"
                  style="fill:#e6e6e6;"
                />
                <path
                  d="M132.894,55.714c17.291,13.095 21.708,37.561 9.673,56.014c-11.984,18.375 -35.983,24.193 -54.919,13.866c-21.354,-11.647 -55.268,-32.73 -58.459,-64.458c-2.335,-23.21 9.634,-30.234 7.483,-35.679c-0.414,-1.048 -7.442,-4.631 -13.315,-2.733c-5.83,1.884 -8.578,-2.79 -1.204,-5.848c2.123,-0.881 16.762,-4.572 23.02,1.798c5.662,5.764 2.762,21.247 7.569,25.677c10.047,9.26 53.574,-8.765 80.152,11.363"
                  style="fill:#fff;"
                />
                <path
                  d="M132.51,105.932c-2.637,-1.406 -24.641,5.645 -26.32,8.707c-2.081,3.794 6.14,9.395 14.058,7.099c9.239,-2.68 15.418,-14.122 12.262,-15.806"
                  style="fill:#1d3340;"
                />
                <path
                  d="M118.336,88.228c1.939,-3.046 5.982,-3.942 9.028,-2.003c3.046,1.94 3.943,5.982 2.003,9.028c-1.94,3.046 -5.982,3.944 -9.028,2.003c-3.046,-1.939 -3.943,-5.981 -2.003,-9.028"
                  style="fill:#1d3340;"
                />
                <path
                  d="M99.872,94.54c1.94,-3.046 5.982,-3.943 9.028,-2.003c3.047,1.94 3.943,5.982 2.004,9.028c-1.94,3.046 -5.982,3.943 -9.029,2.003c-3.046,-1.939 -3.942,-5.981 -2.003,-9.028"
                  style="fill:#1d3340;"
                />
                <path
                  d="M81.704,122.026c3.408,-6.625 4.483,-15.517 2.354,-20.363c-5.566,3.562 -6.071,16.027 -2.354,20.363"
                  style="fill:#e6e6e6;"
                />
                <path
                  d="M55.758,103.786c3.407,-6.625 1.157,-16.293 -0.972,-21.14c-2.35,5.493 -2.746,16.804 0.972,21.14"
                  style="fill:#e6e6e6;"
                />
                <path
                  d="M72.741,153.709c7.327,8.041 19.326,7.062 14.051,-8.854c-1.064,-3.21 -8.927,-13.727 -2.734,-43.193c-8.203,-10.784 -15.899,-16.825 -28.71,-26.965c-3.355,30.809 7.154,67.776 17.393,79.012"
                  style="fill:#fff;"
                />
              </g>
              <g>
                <path
                  d="M176.769,46.508c-1.719,-10.743 -7.964,-15.478 -12.278,0.728c-3.795,14.254 -14.893,28.347 -32.885,21.072c-6.773,7.696 4.08,36.794 8.817,36.938c15.106,0.462 39.777,-37.303 36.346,-58.738"
                  style="fill:#fff;"
                />
                <path
                  d="M145.113,104.329c7.491,-5.62 12.415,-29.031 6.966,-37.523c-6.327,1.909 -9.36,32.338 -6.966,37.523"
                  style="fill:#e6e6e6;"
                />
                <path
                  d="M35.692,102.357c4.017,1.19 -10.16,39.08 31.124,45.49c24.755,3.843 54.742,-10.966 68.811,-28.061c17.098,-20.776 25.503,-61.001 3.234,-82.2c-16.699,-15.896 -43.123,-15.245 -59.019,1.454c-8.039,8.446 -10.898,17.54 -11.783,26.24c-0.95,9.33 1.958,49.779 -13.552,51.383c-7.652,0.791 -3.658,-24.615 -16.637,-24.426c-9.18,0.135 -17.317,14.524 -10.752,15.227c3.461,0.372 5.258,-6.09 8.574,-5.107"
                  style="fill:#fff;"
                />
                <path
                  d="M79.964,66.281c-4.864,1.52 -8.847,0.017 -11.771,-1.379c0.123,-1.051 0.269,-4.17 0.936,-6.148c3.486,4.133 7.377,5.707 10.835,7.527"
                  style="fill:#e6e6e6;"
                />
                <path
                  d="M46.091,33.272c4.452,-9.927 11.712,-12.876 11.667,3.894c-0.04,14.751 7.015,31.244 26.278,28.895c4.54,9.191 -13.502,34.468 -18.113,33.377c-14.707,-3.48 -28.716,-46.359 -19.832,-66.166"
                  style="fill:#fff;"
                />
                <path
                  d="M127.755,48.646c2.928,-2.114 7.016,-1.454 9.129,1.475c2.114,2.928 1.454,7.016 -1.475,9.129c-2.928,2.114 -7.015,1.454 -9.129,-1.475c-2.114,-2.928 -1.454,-7.015 1.475,-9.129"
                  style="fill:#1d3340;"
                />
                <path
                  d="M108.265,47.689c2.928,-2.114 7.016,-1.454 9.13,1.475c2.114,2.928 1.453,7.016 -1.475,9.129c-2.928,2.114 -7.016,1.454 -9.13,-1.475c-2.113,-2.928 -1.453,-7.015 1.475,-9.129"
                  style="fill:#1d3340;"
                />
                <path
                  d="M135.728,64.069c-1.05,-1.131 -5.68,1.398 -12.248,1.324c-6.134,-0.068 -13.29,-2.573 -14.539,-1.439c-3.203,2.905 2.887,10.797 14.935,10.562c9.618,-0.187 14.284,-7.827 11.852,-10.447"
                  style="fill:#1d3340;"
                />
              </g>
              <g>
                <path
                  d="M49.4,85.246c-7.986,22.265 -22.136,26.097 -28.094,27.443c-12.806,2.896 -17.67,-21.403 -13.055,-22.006c5.494,-0.717 6.963,4.269 9.563,3.786c3.422,-0.637 10.715,-7.239 15.228,-15.671c5.884,-1.725 11.817,-0.867 16.358,6.448"
                  style="fill:#fff;"
                />
                <path
                  d="M38.255,103.674c2.594,-6.385 -2.297,-15.004 -9.065,-18.895c-2.937,5.921 3.646,17.094 9.065,18.895"
                  style="fill:#e6e6e6;"
                />
                <path
                  d="M61.661,36.637c-21.181,4.674 -35.457,24.996 -32.27,46.795c3.174,21.707 22.521,37.053 44.043,35.617c16.213,-1.081 31.309,-7.247 44.579,-8.426c17.162,-1.523 39.84,5.082 50.062,-5.279c9.478,-9.607 3.445,-35.551 7.943,-38.88c0.908,-0.671 8.699,-1.083 13.235,3.103c4.503,4.154 8.958,1.063 3.546,-4.805c-1.559,-1.689 -13.3,-11.18 -21.654,-8.02c-7.556,2.858 -11.416,18.13 -17.636,20.136c-13.006,4.196 -33.87,-54.124 -91.848,-40.241"
                  style="fill:#fff;"
                />
                <path
                  d="M102.382,96.467c-2.517,4.432 -6.852,12.148 -3.222,15.612c1.053,0.104 5.945,0.559 8.02,0.326c-2.097,-4.972 -3.688,-12.228 -4.798,-15.938"
                  style="fill:#e6e6e6;"
                />
                <path
                  d="M80.811,97.85c-4.636,23.196 7.089,35.35 12.899,39.399c7.492,5.224 17.227,-1.286 21.233,-6.707c1.753,-2.372 2.408,-4.536 1.3,-5.418c-4.338,-3.446 -8.168,0.069 -10.146,-1.686c-2.603,-2.31 -7.224,-11.66 -3.715,-26.971c-4.153,-4.512 -15.22,-4.643 -21.571,1.383"
                  style="fill:#fff;"
                />
                <path
                  d="M65.979,67.054c3.118,-1.823 7.123,-0.772 8.945,2.345c1.824,3.117 0.774,7.123 -2.344,8.945c-3.119,1.823 -7.123,0.773 -8.946,-2.345c-1.823,-3.118 -0.773,-7.123 2.345,-8.945"
                  style="fill:#1d3340;"
                />
                <path
                  d="M46.672,64.229c3.118,-1.822 7.123,-0.773 8.945,2.345c1.824,3.118 0.774,7.123 -2.344,8.945c-3.118,1.823 -7.123,0.773 -8.946,-2.345c-1.823,-3.117 -0.773,-7.123 2.345,-8.945"
                  style="fill:#1d3340;"
                />
                <path
                  d="M65.615,85.296c-2.13,-0.603 -6.389,0.647 -10.058,-0.016c-3.001,-0.543 -5.417,-3.019 -7.552,-3.399c-4.971,-0.886 -7.884,11.604 5.841,14.392c14.074,2.857 18.211,-9.152 11.769,-10.977"
                  style="fill:#1d3340;"
                />
              </g>
              <g>
                <path
                  d="M65.656,96.697c-7.32,8.047 -14.512,4.442 -7.83,-5.892c8.011,-12.387 4.47,-30.564 1.088,-37.136c0.172,-10.249 15.962,-29.279 17.077,-24.674c4.46,18.419 4.22,51.702 -10.335,67.702"
                  style="fill:#fff;"
                />
                <path
                  d="M62.586,75.302c1.405,6.784 5.688,10.082 9.624,11.201c1.191,-8.765 -4.095,-12.338 -9.624,-11.201"
                  style="fill:#e6e6e6;"
                />
                <path
                  d="M55.486,58.51c8.964,33.455 32.433,32.444 30.573,43.608c-1.861,11.164 -10.34,14.554 -9.714,27.048c0.625,12.495 15.03,18.888 11.167,30.927c-2.112,6.581 4.029,5.88 8.318,-0.87c3.749,-5.9 -2.671,-16.398 -1.148,-27.064c1.492,-10.444 52.242,-35.853 43.362,-85.571c-3.241,-18.146 -62.715,-20.737 -82.558,11.922"
                  style="fill:#fff;"
                />
                <path
                  d="M129.399,71.945c5.065,-0.566 6.188,-0.208 8.793,1.719c-0.32,1.009 -4.675,10.355 -5.707,12.17c-0.547,-4.708 -2.19,-10.555 -3.086,-13.889"
                  style="fill:#e6e6e6;"
                />
                <path
                  d="M92.336,9.224c29.617,-2.974 46.146,22.918 52.203,48.187c3.95,16.485 3.751,34.504 -4.03,45.109c-4.224,5.757 -10.427,7.511 -6.855,-8.873c1.563,-7.162 0.717,-13.867 -2.899,-19.018c-6.726,9.641 -17.461,16.4 -30.075,17.667c-22.939,2.304 -43.404,-14.425 -45.708,-37.364c-2.303,-22.94 14.426,-43.404 37.364,-45.708"
                  style="fill:#fff;"
                />
                <path
                  d="M87.344,32.218c2.928,-2.114 7.015,-1.454 9.129,1.475c2.114,2.928 1.454,7.015 -1.475,9.129c-2.928,2.114 -7.015,1.454 -9.129,-1.475c-2.114,-2.928 -1.454,-7.015 1.475,-9.129"
                  style="fill:#1d3340;"
                />
                <path
                  d="M67.855,31.261c2.928,-2.114 7.016,-1.454 9.129,1.475c2.114,2.928 1.454,7.016 -1.474,9.129c-2.928,2.114 -7.016,1.454 -9.13,-1.475c-2.113,-2.928 -1.453,-7.015 1.475,-9.129"
                  style="fill:#1d3340;"
                />
                <path
                  d="M95.318,47.641c-1.05,-1.131 -5.68,1.398 -12.248,1.325c-6.134,-0.069 -13.29,-2.573 -14.54,-1.44c-3.202,2.906 2.888,10.797 14.936,10.563c9.618,-0.188 14.284,-7.828 11.852,-10.448"
                  style="fill:#1d3340;"
                />
              </g>
              <g>
                <path
                  d="M70.705,42.114c-1.792,-10.585 -8.37,-19.875 -13.054,-23.798c-10.066,-8.429 -25.5,10.958 -21.671,13.605c4.558,3.15 8.145,-0.615 10.236,1.005c5.034,3.897 11.763,27.892 -1.881,43.943c21.21,1.105 39.556,-17.654 26.37,-34.755"
                  style="fill:#fff;"
                />
                <path
                  d="M66.925,30.769c-7.344,-0.652 -15.581,6.771 -14.998,16.311c8.829,-0.538 17.189,-11.11 14.998,-16.311"
                  style="fill:#e6e6e6;"
                />
                <path
                  d="M132.771,52.739c-6.378,-22.156 -29.1,-35.481 -51.292,-29.231c-64.651,18.206 -40.324,141.889 29.693,133.546c27.056,-3.224 24.992,-26.63 30.497,-27.639c2.111,-0.387 16.255,26.72 24.23,1.845c2.097,-6.543 -2.422,-5.381 -3.667,-2.425c-1.281,3.042 -3.778,6.074 -4.747,6.44c-2.152,0.813 -9.047,-17.642 -18.001,-16.83c-8.048,0.731 -11.057,15.785 -17.546,16.586c-9.763,1.202 -4.305,-26.974 -3.463,-29.635c6.1,-19.283 21.144,-28.866 14.296,-52.657"
                  style="fill:#fff;"
                />
                <path
                  d="M92.039,63.685c-0.456,-2.953 -19.298,-16.327 -22.757,-15.833c-4.283,0.61 -3.842,9.981 3.089,15.749c7.394,6.154 20.215,3.619 19.668,0.084"
                  style="fill:#1d3340;"
                />
                <path
                  d="M95.82,43.297c3.602,-0.276 6.744,2.42 7.02,6.021c0.275,3.601 -2.42,6.743 -6.022,7.019c-3.601,0.275 -6.743,-2.42 -7.019,-6.021c-0.276,-3.601 2.42,-6.744 6.021,-7.019"
                  style="fill:#1d3340;"
                />
                <path
                  d="M79.693,32.312c3.602,-0.276 6.744,2.42 7.02,6.021c0.275,3.601 -2.42,6.743 -6.021,7.019c-3.602,0.275 -6.744,-2.42 -7.02,-6.021c-0.275,-3.601 2.42,-6.744 6.021,-7.019"
                  style="fill:#1d3340;"
                />
                <path
                  d="M123.498,78.702c8.985,-5.875 20.272,-7.358 26.332,-6.586c13.023,1.662 9.279,26.158 4.737,25.146c-5.408,-1.206 -5.083,-6.395 -7.69,-6.83c-6.28,-1.046 -28.461,10.314 -30.973,31.231c-15.218,-14.815 -13.912,-41.021 7.594,-42.961"
                  style="fill:#fff;"
                />
                <path
                  d="M133.044,74.189c-2.976,1.091 -6.746,3.086 -9.547,4.513c0.81,-2.979 7.631,-10.326 10.837,-11.193c-0.087,1.42 -0.569,3.886 -1.29,6.68"
                  style="fill:#e6e6e6;"
                />
              </g>
            </g>
          </svg>
        </div>
      ))}

      <style>{`
        @keyframes ghostFloat {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-20px); }
        }
      `}</style>
    </>
  );
}

export const generateGhosts = (max: number): IGhost[] => {
  const ghosts = [];
  for (let i = 0; i < max; i++) {
    ghosts.push({
      id: i,
      top: Math.random() * 50 + 20,
      left: Math.random() * 80,
      duration: Math.random() * 4 + 6,
      delay: Math.random() * 2,
    });
  }
  return ghosts;
};
